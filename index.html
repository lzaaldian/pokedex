<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pokédex - Pokémon wiki from pokeapi.co</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col s12">
        <h1>Pokémon List</h1>
      </div>
    </div>

    <div class="row">
      <div class="col s12">
        <div class="collection" id="pokemon-list"></div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cash/8.1.0/cash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="https://unpkg.com/pokeapi-js-wrapper/dist/index.js"></script>
  <script>
    $(function() {
      const P = new Pokedex.Pokedex()

      P.getPokemonsList({offset: 0, limit: 10})
        .then(function(response) {
          response.results.forEach(function (data) {
            let content = `<a href="#!" class="collection-item">${formatName(data.name)} <div class="secondary-content"><i class="material-icons">chevron_right</i></div></a>`
            $(content).appendTo('#pokemon-list')
          });
        })

      /**
       * Format Pokemon name
       * - capitalize first letter for Pokemon with single word name
       * 
       * @param   {String}  word  Pokémon name
       *
       * @return  {String}        Easy to read Pokémon name
       */
      function formatName(word) {
        return word.charAt(0).toUpperCase() + word.slice(1)
      }
    })
  </script>
</body>

</html>
